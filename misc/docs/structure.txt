Структура CMF

Синглтон Application
Request (статик) для http


Диспетчеризация Application::Dispatch()
1. Создастся экземпляр Cmf\Controller\MvcRequest
2. MvcRequest получает экземпляр контроллера и запускает выполнение нужного действия
3. Контроллер возвращает ответ
4. Цикл диспетчеризации продолжается пока не будет получен пригодный для отображения ответ


HTML Блоки
Блоки отображаются в котейнерах.
Контейнеры блоков могут распологаться в любых шаблонах (и в любом произвольном месте шаблона).
Шаблон может содержать произвольное количество контейнеров.

Привязка блоков к контейнерам и к действиям контроллеров осуществляется через БД.
Один и тот же контейнер может отображаться для нескольких действий.


Поиск и отображение блоков.
1. {{ blocks('container_name') }}
2. Block\Bind => Получить список блоков для контейнера в контексте контроллера
3. Для каждого блока получаем экземпляр
4. Экземпляр блока возвращает ответ
5. Отображение блока через ответ, либо форвардинг на другой блок.
