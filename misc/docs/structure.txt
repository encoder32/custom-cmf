Структура CMF

Синглтон Application
Request (статик) для http


Диспетчеризация Application::Dispatch()
1. Создастся экземпляр Cmf\Controller\MvcRequest
2. Цикл диспетчеризации пока не будет получен пригодный для отображения ответ


HTML Блоки
Блоки отображаются в котейнерах.
Контейнеры блоков могут распологаться в любых шаблонах (и в любом произвольном месте шаблона).
Шаблон может содержать произвольное количество контейнеров.

Привязка блоков к контейнерам и к действиям контроллеров осуществляется через БД.
Один и тот же контейнер может отображаться для нескольких действий.
Контейнер может содержаться в блоке (вложенность блоков).
!!! Подумать, привязывать вложенный контейнер к родительскому блоку или к контейнеру
для отображения содержимого контейнера сделать плагин для твига {{ blocks('container_name') }}

Для блоков можно использовать:
 1. Controller::action()
 2. Controller::block()
 3. Block::render() - не требует инициализации дополнительных контроллеров в которых содержатся блоки.


Поиск и отображение блоков.
1. {{ blocks('container_name') }}
2. Block\Bind => Получить список блоков для контейнера в контексте контроллера
3. Для каждого блока получаем экземпляр
4. Экземпляр блока возвращает ответ
5. Отображение блока через ответ, либо форвардинг на другой блок.
